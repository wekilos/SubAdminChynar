{"version":3,"sources":["pages/login/login.js"],"names":["Login","history","useHistory","useState","username","setUsername","password","setPassword","onSubmit","a","axiosInstance","post","phoneNumber","then","res","console","log","data","login","subAdmin","type","MarketId","push","localStorage","setItem","JSON","stringify","message","success","error","warn","msg","catch","err","className","name","value","onChange","e","target","onClick"],"mappings":"yQA6FeA,UA/ED,WAEV,IAAMC,EAAUC,cAFD,EAGgBC,mBAAS,IAHzB,mBAGRC,EAHQ,KAGCC,EAHD,OAIiBF,mBAAS,IAJ1B,mBAIRG,EAJQ,KAIEC,EAJF,KAObC,EAAQ,uCAAC,sBAAAC,EAAA,sEAETC,IAAcC,KAAK,kBAAkB,CAE3CC,YAAYR,EACZE,SAAUA,IAENO,MAAK,SAACC,GAG8C,IAAD,MACD,KAFrDC,QAAQC,IAAIF,EAAIG,OACK,IAAjBH,EAAIG,KAAKC,QAAoC,IAApBJ,EAAIG,KAAKE,WAC5B,UAAAL,EAAIG,YAAJ,eAAUG,QAAV,UAAkBN,EAAIG,YAAtB,iBAAkB,EAAUG,YAA5B,aAAkB,EAAgBC,WACnCpB,EAAQqB,KAAK,WAEbC,aAAaC,QAAQ,aAAcC,KAAKC,UAAUZ,EAAIG,OACvDU,IAAQC,QAAQ,gBACfL,aAAaC,QAAQ,cAAeC,KAAKC,UAAL,UAAeZ,EAAIG,YAAnB,iBAAe,EAAUG,YAAzB,aAAe,EAAgBC,aAEnEpB,EAAQqB,KAAK,KACbK,IAAQE,MAAM,4CAIhBF,IAAQG,KAAKhB,EAAIG,KAAKc,KACtBJ,IAAQE,MAAM,8CAInBG,OAAM,SAACC,GACNlB,QAAQC,IAAIiB,MA7BD,2CAAD,qDAmCd,OACI,qBAAMC,UAAU,aAAhB,SACA,sBAAKA,UAAU,cAAf,UACE,oBAAIA,UAAU,gBAAd,0BAEA,mDACA,cAAC,IAAD,CACEC,KAAK,QACLC,MAAOhC,EAAUiC,SAAU,SAACC,GAAD,OAAKjC,EAAYiC,EAAEC,OAAOH,UAEvD,6CACA,cAAC,IAAD,CACEhB,KAAK,WAAWe,KAAK,WACrBC,MAAO9B,EAAU+B,SAAU,SAACC,GAAD,OAAK/B,EAAY+B,EAAEC,OAAOH,UAEvD,qBAAKF,UAAU,SAAf,SACA,cAAC,IAAD,CAAQA,UAAU,SAASM,QAAS,kBAAIhC,KAAxC","file":"static/js/31.ff909770.chunk.js","sourcesContent":["import {useState,useEffect} from 'react';\nimport {BASE_URL,axiosInstance} from '../../utils/axiosIntance'\nimport { message,Input } from 'antd';\nimport {token} from '../../utils/token'\nimport {Redirect,useHistory} from 'react-router-dom'\nimport axios from 'axios'\n\n  import { Button } from \"antd\";\n\nimport { Select } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"./login.css\";\nimport { async } from 'q';\n\nconst Login = () =>{\n\n    const history = useHistory()\n    const [username,setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\")\n\n\nconst onSubmit=async()=>{\n  \nawait axiosInstance.post('/api/user/login',{\n \nphoneNumber:username,\npassword: password,\n     \n} ).then((res)=>{\n \n console.log(res.data)\n  if(res.data.login===true && res.data.subAdmin===true){\n        if(res.data?.type && res.data?.type?.MarketId){\n          history.push('/orders')\n\n          localStorage.setItem(\"SubProfile\", JSON.stringify(res.data))\n         message.success(\"Successfully\")\n          localStorage.setItem(\"SubMarketId\", JSON.stringify(res.data?.type?.MarketId))\n        }else{\n          history.push(\"/\");\n          message.error(\"nädogry Telefon belgi yada password\")\n        }\n         \n    }else{\n        message.warn(res.data.msg)\n        message.error(\"nädogry Telefon belgi yada password\")\n    }\n    \n\n}).catch((err)=>{\n    console.log(err);\n    \n})\n\n}\n\nreturn(\n    <div  className=\"login-page\" >\n    <div className=\"login--form\">\n      <h2 className=\"login--header\">Içeri Gir</h2>\n      \n      <label >Admin Telefon:</label>\n      <Input\n        name=\"login\"\n        value={username} onChange={(e)=>setUsername(e.target.value)}\n      />\n      <label >Password</label>\n      <Input\n        type=\"password\" name=\"password\"\n        value={password} onChange={(e)=>setPassword(e.target.value)}\n      />\n      <div className='button'>\n      <Button className=\"Button\" onClick={()=>onSubmit()}  >Içeri Gir</Button>\n      </div>\n    </div> \n  </div>\n\n    // <div>\n    //     Login page\n        \n    //     <input type=\"text\" value={username} onChange={(e)=>setUsername(e.target.value)} placeholder=\"login\"/>\n    //     <input type=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)} placeholder=\"password\" />\n    //     <button onClick={()=>onSubmit()}>Login</button>\n\n    //     {token()}\n    // </div>\n)\n\n\n}\n\n\n\nexport default Login;"],"sourceRoot":""}